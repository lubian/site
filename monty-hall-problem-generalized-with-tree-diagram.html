<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>monty hall problem generalized with tree diagram - Welcome to Lu's Site</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/monty-hall-problem-generalized-with-tree-diagram.html">

        <meta name="author" content="Lu BIAN" />
        <meta name="keywords" content="probability,conditional probability,multiplication rule" />
        <meta name="description" content="The Monty Hall problem. This is a much discussed puzzle, based on an old American game show. You are told that a prize is equally likely to be found behind any one of three closed doors in front of you. You point to one of the doors. A friend opens ..." />

        <meta property="og:site_name" content="Welcome to Lu's Site" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="monty hall problem generalized with tree diagram"/>
        <meta property="og:url" content="/monty-hall-problem-generalized-with-tree-diagram.html"/>
        <meta property="og:description" content="The Monty Hall problem. This is a much discussed puzzle, based on an old American game show. You are told that a prize is equally likely to be found behind any one of three closed doors in front of you. You point to one of the doors. A friend opens ..."/>
        <meta property="article:published_time" content="2016-01-03" />
            <meta property="article:section" content="Statistics" />
            <meta property="article:tag" content="probability" />
            <meta property="article:tag" content="conditional probability" />
            <meta property="article:tag" content="multiplication rule" />
            <meta property="article:author" content="Lu BIAN" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.cerulean.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>

        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Welcome to Lu's Site ATOM Feed"/>
        <link href="/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Welcome to Lu's Site RSS Feed"/>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Welcome to Lu's Site            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about-me.html">
                             About Me
                          </a></li>
                        <li >
                            <a href="/category/data-mining.html">Data mining</a>
                        </li>
                        <li >
                            <a href="/category/paintingsdrawings.html">Paintings&drawings</a>
                        </li>
                        <li class="active">
                            <a href="/category/statistics.html">Statistics</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="" title="Welcome to Lu's Site"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="/category/statistics.html" title="Statistics">Statistics</a></li>
                <li class="active">monty hall problem generalized with tree diagram</li>
            </ol>

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/monty-hall-problem-generalized-with-tree-diagram.html"
                       rel="bookmark"
                       title="Permalink to monty hall problem generalized with tree diagram">
                        monty hall problem generalized with tree diagram
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-01-03T10:20:00+00:00"> Sun 03 January 2016</time>
    </span>

        <span class="label label-default">Category</span>
        <a href="/category/statistics.html">Statistics</a>


<span class="label label-default">Tags</span>
	<a href="/tag/probability.html">probability</a>
        /
	<a href="/tag/conditional-probability.html">conditional probability</a>
        /
	<a href="/tag/multiplication-rule.html">multiplication rule</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>The Monty Hall problem. This is a much discussed puzzle, based on an old American game show. You are told that a prize is equally likely to be found behind any one of three closed doors in front of you. You point to one of the doors. A friend opens for you one of the remaining two doors, after making sure that the prize is not behind it. At this point, you can stick to your initial choice, or switch to the other unopened door. You win the prize if it lies behind your final choice of a door. Then will you Switch to the other unopened door or Stick to your initial choice.</p>
<p>This is a probability problem, the goal is to find the strategy with maximum likelihood of wining.
By intuition we know that the probability of wining is 1/3 since there are 3 doors with only one prize behind the door, which is equally likely to be found behind any of the three doors.
However, another event happens after choosing: a friend opens for you one of the remaining two doors, after making sure that the prize is not behind it. This event surely add some useful information, but how is it measured quantitatively?
A simple but useful way is to draw a tree diagram which list all the possiblities and calculate the conditional probabilities for each.
Let's use graphviz to draw a tree diagram.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">graphviz</span> <span class="kn">import</span> <span class="n">Digraph</span>
<span class="kn">import</span> <span class="nn">graphviz</span> <span class="kn">as</span> <span class="nn">gv</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s1">&#39;Monty hall problem&#39;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;choose from 3 doors&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="s2">&quot;1/3&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="s2">&quot;2/3&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B1_0&quot;</span><span class="p">,</span><span class="s2">&quot;p=1/3 * 1 = 1/3&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B1_1&quot;</span><span class="p">,</span><span class="s2">&quot;p=1/3 * 0 = 0&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B2_0&quot;</span><span class="p">,</span><span class="s2">&quot;p=2/3 * 0 =0&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B2_1&quot;</span><span class="p">,</span><span class="s2">&quot;p=2/3 * 1 = 2/3&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;door with prize&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;door without prize&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="s2">&quot;B1_0&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;not switch&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="s2">&quot;B1_1&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;switch&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="s2">&quot;B2_0&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;not switch&quot;</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="s2">&quot;B2_1&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;switch&quot;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">tree</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;monty_hall&#39;</span><span class="p">,</span><span class="n">view</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<p><img alt="Alt text" src="/images/monty_hall.png" /></p>
<p>From the above tree, we see clearly that the probability of wining if not switch is 1/3+0=1/3, and the probability of wining if switch is 0+2/3=2/3
So the best strategy is to switch!</p>
<p>To generalize the problem, assume there are k doors with prize and m doors without prize, and we draw the tree diagram:</p>
<div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s1">&#39;Monty hall problem generalized&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;choose from k+m doors&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="s2">&quot;k/(k+m)&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="s2">&quot;m/(k+m)&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B1_0&quot;</span><span class="p">,</span><span class="s2">&quot;k/(k+m) * 1&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B1_1&quot;</span><span class="p">,</span><span class="s2">&quot;k/(k+m) * (k-1)/(k+m-2)&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B2_0&quot;</span><span class="p">,</span><span class="s2">&quot;m/(k+m) * 0=0&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s2">&quot;B2_1&quot;</span><span class="p">,</span><span class="s2">&quot;m/(k+m) * k/(k+m-2)&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;door with prize&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;door without prize&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="s2">&quot;B1_0&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;not switch: 1&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="s2">&quot;B1_1&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;switch: (k-1)/(k+m-2)&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="s2">&quot;B2_0&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;not switch: 0&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span><span class="s2">&quot;B2_1&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;switch: k/(k+m-2)&quot;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;monty_all_gen&#39;</span><span class="p">,</span><span class="n">view</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<p><img alt="Alt text" src="/images/monty_hall_gen.jpg" /></p>
<p>From the new tree, we see that the probability of wining if not switch is k/(k+m) + 0 = k/(k+m), and the probability of wining if switch is k/(k+m) * (k-1)/(k+m-2) + m/(k+m) * k/(k+m-2) = k(k+m-1)/(k+m)(k+m-2) surely &gt; k/(k+m)
So in general the best strategy is to switch!</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://www.linkedin.com/in/lu-bian-58ba2417?trk=hp-identity-name"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="https://github.com/lubian"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://twitter.com/lulubian"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
              </ul>
            </li>

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="/sql-summary.html">
                            SQL summary
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/random-walker-simulation.html">
                            random walker simulation
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/mystery.html">
                            Mystery
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="/stock-price-analysis-with-timeseries.html">
                            stock price analysis with timeseries
                        </a>
                    </li>
                </ul>
            </li>


            <li class="list-group-item"><a href="//home/lulu/pelican-themes/pelican-bootstrap3/templates/tags.html"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-4">
                        <a href="/tag/conditional-probability.html">
                            conditional probability
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/multiplication-rule.html">
                            multiplication rule
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/ngrams.html">
                            ngrams
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/probability.html">
                            probability
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="/tag/python.html">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/recursion.html">
                            recursion
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/simulation.html">
                            simulation
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/sql.html">
                            SQL
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="/tag/statistics.html">
                            statistics
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/stochastic.html">
                            stochastic
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/text-mining.html">
                            text mining
                        </a>
                    </li>
                </ul>
            </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Lu Bian
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


</body>
</html>